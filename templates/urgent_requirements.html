{% extends "base.html" %}
{% block title %}Urgent Requirements{% endblock %}
{% block extra_css %}
<style>
    /* Your existing CSS styles */
</style>
{% endblock %}
{% block content %}
<div style="text-align:center; margin: 0 auto 2.6rem auto; max-width:800px;">
  <h1 style="
    color: #fff;
    background: none;
    font-size: 3.1rem;
    font-weight: 900;
    text-shadow: 0 4px 22px #3b4978bb, 0 1px 2px #191b21;
    letter-spacing:1.6px;
    line-height:1.1;
    margin-bottom:0.7rem;">
  <i class="fas fa-exclamation-triangle"></i> Urgent Requirements
  </h1>
  <div style="
    color: #fff;
    margin-top:1rem;
    font-size: 1.19rem;
    font-weight: 500;
    text-shadow: 0 1px 10px #501b1b44;
    ">
    Time-sensitive causes that need immediate help from generous donors like you
  </div>
</div>
<div role="main" class="card" aria-label="Urgent needs">
    <h2>
        <i class="fas fa-hand-holding-medical" aria-hidden="true"></i> Help Needed Now
        {% if requirements %}
            <span aria-live="polite"> ({{ requirements|length }} urgent needs)</span>
        {% endif %}
    </h2>
    {% if requirements %}
    <div class="requirements-grid">
        {% for req in requirements %}
<div style="
    background: #fff;
    border-radius: 20px;
    box-shadow: 0 25px 50px #8888;
    max-width: 700px;
    margin: 2rem auto;
    padding: 2rem;
    border-left: 6px solid #4CAF50;
    color: #222;
    ">
  <div style="display: flex; justify-content: space-between; align-items: center;">
    <div>
      <h2 style="font-weight: 700; font-size: 1.7rem; margin: 0 0 0.3rem 0;">{{ req.title }}</h2>
      <div style="font-weight: 600; color: #4CAF50;">{{ req.org_name }}</div>
    </div>
    <time style="font-size: 1rem; color: #456;" datetime="{{ req.deadline }}">{{ req.deadline or 'Ongoing' }}</time>
  </div>
  <section style="margin-top: 1rem; background: #F5F8FA; padding: 1rem 1.3rem; border-radius: 10px; color: #444;">
    {{ req.description }}
  </section>
  <div style="display: flex; justify-content: space-between; margin-top: 1.3rem; font-weight: 600; color:#3a6e3a;">
    <span>₹{{ req.amount_raised }} raised</span>
    <span>₹{{ req.amount_needed }} needed</span>
    <span>{{ (req.amount_raised / req.amount_needed * 100) | round(2) }}% Complete</span>
  </div>
  <a href="{{ url_for('donate', ngo_id=req.ngo_id) }}" style="
      display: inline-block;
      margin-top: 1rem;
      padding: 0.7rem 1.9rem;
      background: #4CAF50;
      color: white;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 700;
      box-shadow: 0 0 10px #64bb64;
      transition: background 0.3s;
  ">Donate Now</a>
</div>
{% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <i class="fas fa-ban" aria-hidden="true"></i>
        <h3>No Urgent Requirements Found</h3>
        <p>Currently, there are no urgent requirements from verified NGOs.</p>
        <a class="btn" href="{{ url_for('donor_dashboard') }}">Browse NGOs</a>
    </div>
    {% endif %}
</div>
{% endblock %}
